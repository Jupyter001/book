## 9月2日
## StateFlow
Stateflow® 提供了一种图形语言，包括状态转移图、流程图、状态转移表和真值表。您可以使用 Stateflow 来说明 MATLAB® 算法和 Simulink® 模型如何响应输入信号、事件和基于时间的条件。

Stateflow 使您能够设计和开发监控、任务调度、故障管理、通信协议、用户界面和混合系统。

使用 Stateflow，您可以对组合和时序决策逻辑进行建模，使其可作为 Simulink 模型中的模块进行仿真，或作为 MATLAB 中的对象来执行。图形动画使您能够在执行逻辑时对其进行分析和调试。编辑时和运行时检查可确保在实现前具有设计一致性和完整性。

### 构建StateFlow图
- `sf` :可开启stateflow及stateflow library框
- `sfnew -matlab`:新建一个m语言的stateflow项目
- `sfnew -c`:新建一个C语言的stateflow项目

### 动作状态
- entry:语句/函数名: 进入状态的动作，简写为en
- during:处于状态中。简写为du
- exit:离开状态，简写为ex
 
- on eventname:状态完整的接触到广播事件一次后执行的动作
- on after(n,eventname):状态完整的接触到广播事件n次后执行的动作
- on before(n,eventname):状态完整的接触到广播事件n次前执行的动作
- on at(n,eventname):状态完整的接触到广播事件n次时执行的动作
### StateFlow数据类型
- Local Data：仅在图表中本地使用的数据。
- Input：通过输入端口从 Simulink 接收信号。
- Output：信号通过输出端口写入 Simulink。
- Parameter：从 MATLAB 工作区或 Simulink 封装参数中读取一个常数值。

      如果一个数据具有input或output，软件将自动在Stateflow模块上创建端口。
## 自动变速器
### 液力机械变矩器
液力变矩器位于发动机和机械变速器之间，采用ATF（自动变速器油）传递动力，液力变矩器动力传递柔和，且能防止传动系过载。
#### 液力变矩器的结构
- 泵轮：固定在发动机曲轴上。

    主动部分，将发动机动力变成油液动能。

- 导轮：固定在固定套管上。

    反作用元件，它对油流起反作用，达到增扭作用。

- 涡轮： 固定在输出轴上。

    输出部分，将动力传至机械式变速器的输入轴。

## 行星齿轮机构
分为单排行星齿轮和复合式行星齿轮

由四部分组成：
- 太阳轮
- 行星轮
- 行星架
- 齿圈

通过太阳轮，行星架，齿圈三构件的不同相对运动，实现被动件的不同转速和转向。

## 万向传动装置
功能：实现汽车上任何一对轴线相交且位置相对变化的转轴之间的动力传递。

万向传动装置的组成：
- 万向节
- 中间支撑：
    - 补偿传动轴轴向、角度方向的安装误差
    - 补偿发动机窜动、车架变形引起的轴向位移
- 传动轴

应用：
- 变速器和驱动桥之间
- 分动器与变速器、驱动桥之间
- 主减速器与转向车轮之间
- 转向操作系统中

## 主减速器
进一步降低变速器的输出转速，通过扭矩增大作用提高驱动车轮的扭矩。
## 差速器
主要功能是允许两侧驱动轮在转弯时以不同的速度旋转，通常与主减速器集成在一起。
## 差速锁
一种在差速器上的特殊装置，用于锁定左右驱动轮的转速，使两侧车轮以相同的速度旋转。差速锁的主要功能是在极端驾驶条件下（如越野、湿滑路面或崎岖地形）提高车辆的牵引力和通过性。
- 锁定左右车轮转速
- 增强牵引力

## 半轴与传动轴

### 1. **半轴（Axle Shaft）**：
   - **位置和功能**：半轴是位于差速器与车轮之间的部件，主要负责将差速器的动力传递到车轮，驱动车辆前进。半轴通常位于车辆的驱动轮处（前驱或后驱），并与差速器直接相连。每个驱动轮都会有一根半轴。
   - **适用范围**：半轴通常应用在独立悬挂系统中，能够适应悬挂系统的上下移动和车轮转向的变化。

### 2. **传动轴（Drive Shaft）**：
   - **位置和功能**：传动轴是将动力从变速器传递到差速器的部件。它通常位于纵置发动机和后轮驱动（或四轮驱动）车辆中，连接变速器和后差速器，负责将动力传递到后桥，然后再通过差速器分配给半轴。
   - **适用范围**：传动轴通常应用于前置后驱、四驱和中置发动机车辆中。由于需要跨越较长的距离，传动轴通常较长，且两端装有万向节，以适应车辆行驶时的角度变化。

### 总结：
- **半轴**：传递动力给车轮，位于差速器和车轮之间，负责最终驱动车辆。
- **传动轴**：传递动力给差速器，通常连接变速器与后差速器或前差速器。


## 汽车传动系统的功能：

将发动机产生的驱动力矩和转速，以一定的关系和要求传到车轮。

- 实现汽车减速增矩：主减速器
- 实现汽车变速：变速器中多对齿轮
- 实现汽车倒车：变速器中设置倒档
- 必要时中断动力传递：离合器、变速器中的空档
- 使车轮具有差速功能：差速器、半轴
- 消除变速器与驱动桥之间因相对运动而产生的不利影响：万向节、传动轴